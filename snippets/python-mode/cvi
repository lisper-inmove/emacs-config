# -*- mode: snippet -*-
# name: cvi
# key: cvi
# --
# -*- coding: utf-8 -*-

from flask import Blueprint
from ctrl.$1.$1 import ${1:$(capitalize yas-text)}Ctrl
from submodules.utils.protobuf_helper import ProtobufHelper as PH
from view.unify_response import UnifyResponse

name = "$1"
_$1 = Blueprint(name, name, url_prefix="/$1")


@_$1.route("/<string:operate>", methods=["POST"])
def $1_view(operate):
    ctrl = ${1:$(capitalize yas-text)}Ctrl(operate=operate)
    result = ctrl.do_operate()
    return UnifyResponse.R(PH.to_json(result))
